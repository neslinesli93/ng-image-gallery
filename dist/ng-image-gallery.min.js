!function(){"use strict";var e={enter:13,esc:27,left:37,right:39};angular.module("thatisuday.ng-image-gallery",["ngAnimate"]).provider("ngImageGalleryOpts",function(){var e={thumbnails:!0,inline:!1,bubbles:!0,imgBubbles:!1,bgClose:!1,hideCloseButton:!1,hideDeleteButton:!1,hideStarButton:!0,piracy:!1,imgAnim:"fadeup"};return{setOpts:function(i){angular.extend(e,i)},$get:function(){return e}}}).directive("ngRightClick",["$parse",function(e){return{scope:!1,link:function(e,i,n){i.bind("contextmenu",function(i){if(0==e.piracy)return i.preventDefault(),e.piracy})}}}]).directive("ngImageGallery",["$rootScope","$timeout","$q","$window","ngImageGalleryOpts",function(i,n,t,a,l){return{replace:!0,transclude:!1,restrict:"AE",scope:{images:"=",methods:"=?",conf:"=?",thumbnails:"=?",inline:"=?",bubbles:"=?",imgBubbles:"=?",bgClose:"=?",hideCloseButton:"=?",hideDeleteButton:"=?",hideStarButton:"=?",piracy:"=?",imgAnim:"@?",onOpen:"&?",onClose:"&?",onDelete:"&?"},template:'<div class="ng-image-gallery img-move-dir-{{imgMoveDirection}}" ng-class="{inline:inline}"><div ng-if="thumbnails && !inline" class="ng-image-gallery-thumbnails"><div class="thumb" ng-repeat="image in images track by $index" ng-click="methods.open($index);" ng-style="{ \'background-image\': \'url(\' + (image.thumbUrl || image.url) + \')\' }"  ng-attr-title="{{image.title || undefined}}"></div></div><div class="ng-image-gallery-modal" ng-show="opened" ng-cloak><div class="ng-image-gallery-backdrop" ng-if="!inline"></div><div class="ng-image-gallery-content" ng-show="!imgLoading" ng-click="backgroundClose($event);"><div class="destroy-icons-container-right"><a class="ext-url" ng-repeat="image in images track by $index" ng-if="activeImg == image && image.extUrl" ng-href="" ng-click="openPage(image.extUrl)"></a><div class="close" ng-click="methods.close();" ng-if="!inline && !hideCloseButton"></div></div><div class="destroy-icons-container-left"><div class="delete" ng-click="methods.delete();" ng-if="!hideDeleteButton"></div><div ng-click="methods.star();" ng-if="!hideStarButton" ng-class="{\'star-unselected\': !activeImg.favourite, \'star-selected\': activeImg.favourite}"></div></div><div class="prev" ng-click="methods.prev();" ng-class="{\'bubbles-on\':bubbles}" ng-hide="images.length == 1"></div><div class="next" ng-click="methods.next();" ng-class="{\'bubbles-on\':bubbles}" ng-hide="images.length == 1"></div><div class="galleria"><div class="galleria-images img-anim-{{imgAnim}} img-move-dir-{{imgMoveDirection}}"><img class="galleria-image" ng-right-click ng-repeat="image in images track by $index" ng-if="activeImg == image" ng-src="{{image.url}}" ondragstart="return false;" ng-attr-title="{{image.title || undefined}}" ng-attr-alt="{{image.alt || undefined}}"/></div><div class="galleria-bubbles" ng-if="activeImg.title"><span class="galleria-description">{{activeImg.title}}</span></div><div class="galleria-bubbles" ng-if="bubbles && !imgBubbles"  ng-hide="images.length == 1"><span class="galleria-bubble" ng-click="setActiveImg(image);" ng-repeat="image in images track by $index" ng-class="{active : (activeImg == image)}"></span></div><div class="galleria-bubbles" ng-if="bubbles && imgBubbles" ng-hide="images.length == 1"><span class="galleria-bubble img-bubble" ng-click="setActiveImg(image);" ng-repeat="image in images track by $index" ng-class="{active : (activeImg == image)}" ng-style="{ \'background-image\': \'url(\' + (image.bubbleUrl || image.thumbUrl || image.url) +\')\' }"></span></div></div></div><div class="ng-image-gallery-loader" ng-show="imgLoading"><div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div></div></div></div>',link:function(o,s,g){o.openPage=function(e){a.open(e,"_blank")},o.showLoader=function(){o.imgLoading=!0},o.hideLoader=function(){o.imgLoading=!1},o.loadImg=function(e){if(!e)return t.reject();var i=t.defer();e.hasOwnProperty("cached")||o.showLoader();var n=new Image;return n.src=e.url,n.onload=function(){return e.hasOwnProperty("cached")||o.hideLoader(),e.hasOwnProperty("cached")||(e.cached=!0),i.resolve(e)},i.promise},o.setActiveImg=function(e){o.images.indexOf(o.activeImg)-o.images.indexOf(e)==o.images.length-1||o.images.indexOf(o.activeImg)-o.images.indexOf(e)<=0&&o.images.indexOf(o.activeImg)-o.images.indexOf(e)!=-(o.images.length-1)?o.imgMoveDirection="forward":o.imgMoveDirection="backward",o.loadImg(e).then(function(e){o.activeImg=e,o.activeImageIndex=o.images.indexOf(e)})},o.images=void 0!=o.images?o.images:[],o.methods=void 0!=o.methods?o.methods:{},o.conf=void 0!=o.conf?o.conf:{},o.$watchCollection("conf",function(e){o.thumbnails=void 0!=e.thumbnails?e.thumbnails:void 0!=o.thumbnails?o.thumbnails:l.thumbnails,o.inline=void 0!=e.inline?e.inline:void 0!=o.inline?o.inline:l.inline,o.bubbles=void 0!=e.bubbles?e.bubbles:void 0!=o.bubbles?o.bubbles:l.bubbles,o.imgBubbles=void 0!=e.imgBubbles?e.imgBubbles:void 0!=o.imgBubbles?o.imgBubbles:l.imgBubbles,o.bgClose=void 0!=e.bgClose?e.bgClose:void 0!=o.bgClose?o.bgClose:l.bgClose,o.imgAnim=void 0!=e.imgAnim?e.imgAnim:void 0!=o.imgAnim?o.imgAnim:l.imgAnim,o.hideCloseButton=void 0!=e.hideCloseButton?e.hideCloseButton:void 0!=o.hideCloseButton?o.hideCloseButton:l.hideCloseButton,o.hideDeleteButton=void 0!=e.hideDeleteButton?e.hideDeleteButton:void 0!=o.hideDeleteButton?o.hideDeleteButton:l.hideDeleteButton,o.hideStarButton=void 0!=e.hideStarButton?e.hideStarButton:void 0!=o.hideStarButton?o.hideStarButton:l.hideStarButton,o.piracy=void 0!=e.piracy?e.piracy:void 0!=o.piracy?o.piracy:l.piracy}),o.onOpen=void 0!=o.onOpen?o.onOpen:angular.noop,o.onClose=void 0!=o.onClose?o.onClose:angular.noop,o.onDelete=void 0!=o.onDelete?o.onDelete:angular.noop;var d=!0;o.$watch("images",function(){d?d=!1:o.images.length&&o.setActiveImg(o.images[o.activeImageIndex||0])});var c=!0;if(o.$watch("activeImageIndex",function(e){c?c=!1:o.images.length&&o.setActiveImg(o.images[e])}),o.$watch("inline",function(){n(function(){o.inline&&o.methods.open()})}),o.methods.open=function(e){o.activeImageIndex=e?e:0,o.opened=!0,o.inline||angular.element(document.body).addClass("body-overflow-hidden"),n(function(){o.onOpen()},300)},o.methods.close=function(){o.opened=!1,angular.element(document.body).removeClass("body-overflow-hidden"),n(function(){o.onClose(),o.activeImageIndex=0},300)},o.methods["delete"]=function(){o.onDelete().then(function(){0!=o.activeImageIndex?(o.images.splice(o.activeImageIndex,1),o.setActiveImg(o.images[o.activeImageIndex-1])):(o.images.splice(o.activeImageIndex,1),o.setActiveImg(o.images[0]))})},o.methods.star=function(){o.activeImg.favourite=!o.activeImg.favourite},o.methods.next=function(){o.activeImageIndex==o.images.length-1?o.activeImageIndex=0:o.activeImageIndex=o.activeImageIndex+1},o.methods.prev=function(){0==o.activeImageIndex?o.activeImageIndex=o.images.length-1:o.activeImageIndex--},o.backgroundClose=function(e){if(o.bgClose&&!o.inline)for(var i=["galleria-image","destroy-icons-container-right","destroy-icons-container-left","ext-url","close","delete","next","prev","galleria-bubble","galleria-description"],n=0;n<e.target.classList.length&&i.indexOf(e.target.classList[n])==-1;n++)o.methods.close()},angular.element(document).bind("keyup",function(i){o.inline||(i.which==e.right||i.which==e.enter?n(function(){o.methods.next()}):i.which==e.left?n(function(){o.methods.prev()}):i.which==e.esc&&n(function(){o.methods.close()}))}),window.Hammer){var m=new Hammer(s[0]);m.on("swiperight",function(e){n(function(){o.methods.prev()})}),m.on("swipeleft",function(e){n(function(){o.methods.next()})})}var r=function(){angular.element(document.body).removeClass("body-overflow-hidden")};i.$on("$stateChangeSuccess",r),i.$on("$routeChangeSuccess",r)}}}])}();
//# sourceMappingURL=ng-image-gallery.min.js.map
