{"version":3,"sources":["ng-image-gallery.min.js"],"names":["keys","enter","esc","left","right","angular","module","provider","defOpts","thumbnails","inline","bubbles","imgBubbles","bgClose","closeButton","preventRightClick","imgAnim","setOpts","newOpts","extend","$get","directive","$rootScope","$timeout","$q","$window","ngImageGalleryOpts","replace","transclude","restrict","scope","images","methods","conf","onOpen","onClose","template","link","elem","attr","openPage","url","open","showLoader","imgLoading","hideLoader","loadImg","imgObj","reject","deferred","defer","hasOwnProperty","img","Image","src","onload","cached","resolve","promise","setActiveImg","indexOf","activeImg","length","imgMoveDirection","then","undefined","$watchCollection","noop","imagesFirstWatch","$watch","activeImageIndex","activeImageIndexFirstWatch","newImgIndex","imgIndex","opened","element","document","body","addClass","close","removeClass","next","prev","backgroundClose","e","noCloseClasses","i","target","classList","bind","event","which","window","Hammer","hammerElem","on","ev","removeClassFromDocumentBody","$on"],"mappings":"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","file":"ng-image-gallery.min.js","sourcesContent":[" (function(){\n\t'use strict';\n\t\n\t// Key codes\n\tvar keys = {\n\t\tenter : 13,\n\t\tesc   : 27,\n\t\tleft  : 37,\n\t\tright : 39\n\t};\n\n\tangular\n\t.module('thatisuday.ng-image-gallery', ['ngAnimate'])\n\t.provider('ngImageGalleryOpts', function(){\n\t\tvar defOpts = {\n\t\t\tthumbnails  :   true,   \n\t\t\tinline      :   false,\n\t\t\tbubbles     :   true,\n\t\t\timgBubbles  :   false,   \n\t\t\tbgClose     :   false,\n\t\t\tcloseButton :   true,\n\t\t\tpreventRightClick: true,\n\t\t\timgAnim \t: \t'fadeup',\n\t\t};\n\n\t\treturn{\n\t\t\tsetOpts : function(newOpts){\n\t\t\t\tangular.extend(defOpts, newOpts); \n\t\t\t},\n\t\t\t$get : function(){\n\t\t\t\treturn defOpts;\n\t\t\t}\n\t\t}\n\t})\n\t.directive('ngImageGallery', ['$rootScope', '$timeout', '$q', '$window', 'ngImageGalleryOpts',\n\tfunction($rootScope, $timeout, $q, $window, ngImageGalleryOpts){\n\t\treturn {\n\t\t\treplace : true,\n\t\t\ttransclude : false,\n\t\t\trestrict : 'AE',\n\t\t\tscope : {\n\t\t\t\timages \t\t\t: \t'=',\t\t// []\n\t\t\t\tmethods \t\t: \t'=?',\t\t// {}\n\t\t\t\tconf \t\t\t: \t'=?',\t\t// {}\n\n\t\t\t\tthumbnails \t\t: \t'=?',\t\t// true|false\n\t\t\t\tinline \t\t\t: \t'=?',\t\t// true|false\n\t\t\t\tbubbles \t\t: \t'=?',\t\t// true|false\n\t\t\t\timgBubbles \t\t: \t'=?',\t\t// true|false\n\t\t\t\tbgClose \t\t: \t'=?',\t\t// true|false\n\t\t\t\tcloseButton : \t'=?',\t\t// true|false,\n\t\t\t\tpreventRightClick : \t'=?',\t\t// true|false,\n\t\t\t\timgAnim \t\t: \t'@?',\t\t// {name}\n\n\t\t\t\tonOpen \t\t\t: \t'&?',\t\t// function\n\t\t\t\tonClose \t\t: \t'&?'\t\t// function\n\t\t\t},\n\t\t\ttemplate : \t'<div class=\"ng-image-gallery img-move-dir-{{imgMoveDirection}}\" ng-class=\"{inline:inline}\">'+\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Thumbnails container\n\t\t\t\t\t\t\t//  Hide for inline gallery\n\t\t\t\t\t\t\t'<div ng-if=\"thumbnails && !inline\" class=\"ng-image-gallery-thumbnails\">'+\n\t\t\t\t\t\t\t\t'<div class=\"thumb\" ng-repeat=\"image in images track by $index\" ng-click=\"methods.open($index);\" ng-style=\"{ \\'background-image\\': \\'url(\\' + (image.thumbUrl || image.url) + \\')\\' }\"  ng-attr-title=\"{{image.title || undefined}}\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t// Modal container\n\t\t\t\t\t\t\t// (inline container for inline modal)\n\t\t\t\t\t\t\t'<div class=\"ng-image-gallery-modal\" ng-show=\"opened\" ng-cloak>' +\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// Gallery backdrop container\n\t\t\t\t\t\t\t\t// (hide for inline gallery)\n\t\t\t\t\t\t\t\t'<div class=\"ng-image-gallery-backdrop\" ng-if=\"!inline\"></div>'+\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// Gallery contents container\n\t\t\t\t\t\t\t\t// (hide when image is loading)\n\t\t\t\t\t\t\t\t'<div class=\"ng-image-gallery-content\" ng-show=\"!imgLoading\" ng-click=\"backgroundClose($event);\">'+\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// destroy icons container\n\t\t\t\t\t\t\t\t\t'<div class=\"destroy-icons-container\">'+\n\t\t\t\t\t\t\t\t\t\t// External link icon\n\t\t\t\t\t\t\t\t\t\t'<a class=\"ext-url\" ng-repeat=\"image in images track by $index\" ng-if=\"activeImg == image && image.extUrl\" ng-href=\"\" ng-click=\"openPage(image.extUrl)\"></a>'+\n\n\t\t\t\t\t\t\t\t\t\t// Close Icon (hidden in inline gallery)\n\t\t\t\t\t\t\t\t\t\t'<div class=\"close\" ng-click=\"methods.close();\" ng-if=\"!inline && !closeButton\"></div>'+\n\t\t\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t\t\t// Prev-Next Icons\n\t\t\t\t\t\t\t\t\t// Add `bubbles-on` class when bubbles are enabled (for offset)\n\t\t\t\t\t\t\t\t\t'<div class=\"prev\" ng-click=\"methods.prev();\" ng-class=\"{\\'bubbles-on\\':bubbles}\" ng-hide=\"images.length == 1\"></div>'+\n\t\t\t\t\t\t\t\t\t'<div class=\"next\" ng-click=\"methods.next();\" ng-class=\"{\\'bubbles-on\\':bubbles}\" ng-hide=\"images.length == 1\"></div>'+\n\n\t\t\t\t\t\t\t\t\t// Galleria container\n\t\t\t\t\t\t\t\t\t'<div class=\"galleria\">'+\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t// Images container\n\t\t\t\t\t\t\t\t\t\t'<div class=\"galleria-images img-anim-{{imgAnim}} img-move-dir-{{imgMoveDirection}}\">'+\n\t\t\t\t\t\t\t\t\t\t\t'<img class=\"galleria-image\" ng-repeat=\"image in images track by $index\" ng-if=\"activeImg == image\" ng-src=\"{{image.url}}\" ondragstart=\"return false;\" oncontextmenu=\"return preventRightClick;\" ng-attr-title=\"{{image.title || undefined}}\" ng-attr-alt=\"{{image.alt || undefined}}\"/>'+\n\t\t\t\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t\t\t\t// Bubble navigation container\n\t\t\t\t\t\t\t\t\t\t'<div class=\"galleria-bubbles\" ng-if=\"bubbles && !imgBubbles\"  ng-hide=\"images.length == 1\">'+\n\t\t\t\t\t\t\t\t\t\t\t'<span class=\"galleria-bubble\" ng-click=\"setActiveImg(image);\" ng-repeat=\"image in images track by $index\" ng-class=\"{active : (activeImg == image)}\"></span>'+\n\t\t\t\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t\t\t\t// Image bubble navigation container\n\t\t\t\t\t\t\t\t\t\t'<div class=\"galleria-bubbles\" ng-if=\"bubbles && imgBubbles\" ng-hide=\"images.length == 1\">'+\n\t\t\t\t\t\t\t\t\t\t\t'<span class=\"galleria-bubble img-bubble\" ng-click=\"setActiveImg(image);\" ng-repeat=\"image in images track by $index\" ng-class=\"{active : (activeImg == image)}\" ng-style=\"{ \\'background-image\\': \\'url(\\' + (image.bubbleUrl || image.thumbUrl || image.url) +\\')\\' }\"></span>'+\n\t\t\t\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t\t\t'</div>'+\n\n\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// Loading animation overlay container\n\t\t\t\t\t\t\t\t// (show when image is loading)\n\t\t\t\t\t\t\t\t'<div class=\"ng-image-gallery-loader\" ng-show=\"imgLoading\">'+\n\t\t\t\t\t\t\t\t\t'<div class=\"spinner\">'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"rect1\"></div>'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"rect2\"></div>'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"rect3\"></div>'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"rect4\"></div>'+\n\t\t\t\t\t\t\t\t\t\t'<div class=\"rect5\"></div>'+\n\t\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</div>',\n\t\t\t\t\t\t\n\t\t\tlink : function(scope, elem, attr){\n\t\t\t\t\n\t\t\t\t/*\n\t\t\t\t *\tOperational functions\n\t\t\t\t**/\n\n\t\t\t\tscope.openPage = function(url){\n\t\t\t\t\t$window.open(url, '_blank');\n\t\t\t\t}\n\n\t\t\t\t// Show gallery loader\n\t\t\t\tscope.showLoader = function(){\n\t\t\t\t\tscope.imgLoading = true;\n\t\t\t\t}\n\n\t\t\t\t// Hide gallery loader\n\t\t\t\tscope.hideLoader = function(){\n\t\t\t\t\tscope.imgLoading = false;\n\t\t\t\t}\n\n\t\t\t\t// Image load complete promise\n\t\t\t\tscope.loadImg = function(imgObj){\n\t\t\t\t\t\n\t\t\t\t\t// Return rejected promise\n\t\t\t\t\t// if not image object received\n\t\t\t\t\tif(!imgObj) return $q.reject();\n\n\t\t\t\t\tvar deferred =  $q.defer();\n\n\t\t\t\t\t// Show loder\n\t\t\t\t\tif(!imgObj.hasOwnProperty('cached')) scope.showLoader();\n\n\t\t\t\t\t// Process image\n\t\t\t\t\tvar img = new Image();\n\t\t\t\t\timg.src = imgObj.url;\n\t\t\t\t\timg.onload = function(){\n\t\t\t\t\t\t// Hide loder\n\t\t\t\t\t\tif(!imgObj.hasOwnProperty('cached')) scope.hideLoader();\n\n\t\t\t\t\t\t// Cache image\n\t\t\t\t\t\tif(!imgObj.hasOwnProperty('cached')) imgObj.cached = true;\n\n\t\t\t\t\t\treturn deferred.resolve(imgObj);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn deferred.promise;\n\t\t\t\t}\n\n\t\t\t\tscope.setActiveImg = function(imgObj){\n\t\t\t\t\t// Get images move direction\n\t\t\t\t\tif(\n\t\t\t\t\t\tscope.images.indexOf(scope.activeImg) - scope.images.indexOf(imgObj) == (scope.images.length - 1) ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tscope.images.indexOf(scope.activeImg) - scope.images.indexOf(imgObj) <= 0 && \n\t\t\t\t\t\t\tscope.images.indexOf(scope.activeImg) - scope.images.indexOf(imgObj) != -(scope.images.length - 1)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\n\t\t\t\t\t){\n\t\t\t\t\t\tscope.imgMoveDirection = 'forward';\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tscope.imgMoveDirection = 'backward';\n\t\t\t\t\t}\n\n\t\t\t\t\t// Load image\n\t\t\t\t\tscope.loadImg(imgObj).then(function(imgObj){\n\t\t\t\t\t\tscope.activeImg = imgObj;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\n\t\t\t\t/***************************************************/\n\t\t\t\t\n\n\t\t\t\t/*\n\t\t\t\t *\tGallery settings\n\t\t\t\t**/\n\n\t\t\t\t// Modify scope models\n\t\t\t\tscope.images \t \t = \t(scope.images \t\t!= undefined) ? scope.images \t : \t[];\n\t\t\t\tscope.methods \t \t = \t(scope.methods \t\t!= undefined) ? scope.methods \t : \t{};\n\t\t\t\tscope.conf \t \t\t = \t(scope.conf \t\t!= undefined) ? scope.conf \t\t : \t{};\n\n\t\t\t\t// setting options\n\t\t\t\tscope.$watchCollection('conf', function(conf){\n\t\t\t\t\tscope.thumbnails \t = \t(conf.thumbnails \t!= undefined) ? conf.thumbnails \t: \t(scope.thumbnails \t!= undefined) \t?  scope.thumbnails\t\t: \tngImageGalleryOpts.thumbnails;\n\t\t\t\t\tscope.inline \t \t = \t(conf.inline \t\t!= undefined) ? conf.inline \t \t: \t(scope.inline \t\t!= undefined) \t?  scope.inline\t\t\t: \tngImageGalleryOpts.inline;\n\t\t\t\t\tscope.bubbles \t \t = \t(conf.bubbles \t\t!= undefined) ? conf.bubbles \t \t: \t(scope.bubbles \t\t!= undefined) \t?  scope.bubbles\t\t: \tngImageGalleryOpts.bubbles;\n\t\t\t\t\tscope.imgBubbles \t = \t(conf.imgBubbles \t!= undefined) ? conf.imgBubbles \t: \t(scope.imgBubbles \t!= undefined) \t?  scope.imgBubbles\t\t: \tngImageGalleryOpts.imgBubbles;\n\t\t\t\t\tscope.bgClose \t \t = \t(conf.bgClose \t\t!= undefined) ? conf.bgClose \t \t: \t(scope.bgClose \t\t!= undefined) \t?  scope.bgClose\t\t: \tngImageGalleryOpts.bgClose;\n\t\t\t\t\tscope.imgAnim \t \t = \t(conf.imgAnim \t\t!= undefined) ? conf.imgAnim \t \t: \t(scope.imgAnim \t\t!= undefined) \t?  scope.imgAnim\t\t: \tngImageGalleryOpts.imgAnim;\n\t\t\t\t\tscope.closeButton \t \t = \t(conf.closeButton \t\t!= undefined) ? conf.closeButton \t \t: \t(scope.closeButton \t\t!= undefined) \t?  scope.closeButton\t\t: \tngImageGalleryOpts.closeButton;\n\t\t\t\t\tscope.preventRightClick \t \t = \t(conf.preventRightClick \t\t!= undefined) ? conf.preventRightClick \t \t: \t(scope.preventRightClick \t\t!= undefined) \t?  scope.preventRightClick\t\t: \tngImageGalleryOpts.preventRightClick;\n\t\t\t\t});\n\n\t\t\t\tscope.onOpen \t \t = \t(scope.onOpen \t\t!= undefined) ? scope.onOpen \t : \tangular.noop;\n\t\t\t\tscope.onClose \t \t = \t(scope.onClose \t\t!= undefined) ? scope.onClose \t : \tangular.noop;\n\t\t\t\t\n\t\t\t\t// If images populate dynamically, reset gallery\n\t\t\t\tvar imagesFirstWatch = true;\n\t\t\t\tscope.$watch('images', function(){\n\t\t\t\t\tif(imagesFirstWatch){\n\t\t\t\t\t\timagesFirstWatch = false;\n\t\t\t\t\t}\n\t\t\t\t\telse if(scope.images.length) scope.setActiveImg(\n\t\t\t\t\t\tscope.images[scope.activeImageIndex || 0]\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\t// Watch index of visible/active image\n\t\t\t\t// If index changes, make sure to load/change image\n\t\t\t\tvar activeImageIndexFirstWatch = true;\n\t\t\t\tscope.$watch('activeImageIndex', function(newImgIndex){\n\t\t\t\t\tif(activeImageIndexFirstWatch){\n\t\t\t\t\t\tactiveImageIndexFirstWatch = false;\n\t\t\t\t\t}\n\t\t\t\t\telse if(scope.images.length){\n\t\t\t\t\t\tscope.setActiveImg(\n\t\t\t\t\t\t\tscope.images[newImgIndex]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Open modal automatically if inline\n\t\t\t\tscope.$watch('inline', function(){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tif(scope.inline) scope.methods.open();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\n\t\t\t\t/***************************************************/\n\n\n\t\t\t\t/*\n\t\t\t\t *\tMethods\n\t\t\t\t**/\n\n\t\t\t\t// Open gallery modal\n\t\t\t\tscope.methods.open = function(imgIndex){\n\t\t\t\t\t// Open modal from an index if one passed\n\t\t\t\t\tscope.activeImageIndex = (imgIndex) ? imgIndex : 0;\n\n\t\t\t\t\tscope.opened = true;\n\n\t\t\t\t\t// set overflow hidden to body\n\t\t\t\t\tif(!scope.inline) angular.element(document.body).addClass('body-overflow-hidden');\n\n\t\t\t\t\t// call open event after transition\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tscope.onOpen();\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t\t// Close gallery modal\n\t\t\t\tscope.methods.close = function(){\n\t\t\t\t\tscope.opened = false; // Model closed\n\n\t\t\t\t\t// set overflow hidden to body\n\t\t\t\t\tangular.element(document.body).removeClass('body-overflow-hidden');\n\n\t\t\t\t\t// call close event after transition\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tscope.onClose();\n\t\t\t\t\t\tscope.activeImageIndex = 0; // Reset index\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t\t// Change image to next\n\t\t\t\tscope.methods.next = function(){\n\t\t\t\t\tif(scope.activeImageIndex == (scope.images.length - 1)){\n\t\t\t\t\t\tscope.activeImageIndex = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tscope.activeImageIndex = scope.activeImageIndex + 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Change image to prev\n\t\t\t\tscope.methods.prev = function(){\n\t\t\t\t\tif(scope.activeImageIndex == 0){\n\t\t\t\t\t\tscope.activeImageIndex = scope.images.length - 1;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tscope.activeImageIndex--;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Close gallery on background click\n\t\t\t\tscope.backgroundClose = function(e){\n\t\t\t\t\tif(!scope.bgClose || scope.inline) return;\n\n\t\t\t\t\tvar noCloseClasses = [\n\t\t\t\t\t\t'galleria-image',\n\t\t\t\t\t\t'destroy-icons-container',\n\t\t\t\t\t\t'ext-url',\n\t\t\t\t\t\t'close',\n\t\t\t\t\t\t'next',\n\t\t\t\t\t\t'prev',\n\t\t\t\t\t\t'galleria-bubble'\n\t\t\t\t\t];\n\n\t\t\t\t\t// check if clicked element has a class that\n\t\t\t\t\t// belongs to `noCloseClasses`\n\t\t\t\t\tfor(var i = 0; i < e.target.classList.length; i++){\n\t\t\t\t\t\tif(noCloseClasses.indexOf(e.target.classList[i]) != -1){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tscope.methods.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\t/***************************************************/\n\n\n\t\t\t\t/*\n\t\t\t\t *\tUser interactions\n\t\t\t\t**/\n\n\t\t\t\t// Key events\n\t\t\t\tangular.element(document).bind('keyup', function(event){\n\t\t\t\t\t// If inline modal, do not interact\n\t\t\t\t\tif(scope.inline) return;\n\n\t\t\t\t\tif(event.which == keys.right || event.which == keys.enter){\n\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\tscope.methods.next();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if(event.which == keys.left){\n\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\tscope.methods.prev();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if(event.which == keys.esc){\n\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\tscope.methods.close();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Swipe events\n\t\t\t\tif(window.Hammer){\n\t\t\t\t\tvar hammerElem = new Hammer(elem[0]);\n\t\t\t\t\thammerElem.on('swiperight', function(ev){\n\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\tscope.methods.prev();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\thammerElem.on('swipeleft', function(ev){\n\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\tscope.methods.next();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\thammerElem.on('doubletap', function(ev){\n\t\t\t\t\t\tif(scope.inline) return;\n\n\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\tscope.methods.close();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\n\n\t\t\t\t/***********************************************************/\n\n\n\t\t\t\t/*\n\t\t\t\t *\tActions on angular events\n\t\t\t\t**/\n\t\t\t\t\n\t\t\t\tvar removeClassFromDocumentBody = function(){\n\t\t\t\t\tangular.element(document.body).removeClass('body-overflow-hidden');\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t$rootScope.$on('$stateChangeSuccess', removeClassFromDocumentBody);\n\t\t\t\t$rootScope.$on('$routeChangeSuccess ', removeClassFromDocumentBody);\n\n\t\t\t}\n\t\t}\n\t}]);\n })();"]}